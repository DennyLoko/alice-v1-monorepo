<div ng-controller="MyImpactController as impactCtrl" class="appeal-page">
  <section class="splash-v3 grad-both">
    <div class="header-image"
         ng-style="{ 'background' : 'linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(' + impactCtrl.project.img + ') no-repeat center' }">
      <div class="container my-impact__splash_container splash-v3__container-title">
        <div class="row">
          <h3>{{ impactCtrl.project.title }}</h3>
        </div>
        <div class="row ">
           <div class=" col-md-4 splash-v3__progress-section">
             <p class="my-impact__progress-title">We need to raise</p>
             <span class="my-impact__progress-value">{{ impactCtrl.project.fundingTarget | money}}</span>
           </div>
           <div class="col-md-4 splash-v3__progress-section">
             <p class="my-impact__progress-title">Raised so far</p>
             <span class="my-impact__progress-value">{{ impactCtrl.project.donatedByAll | money}}</span>
           </div>
           <div class="col-md-4 splash-v3__progress-section">
            <p class="my-impact__progress-title">Completed</p>
            <span class="my-impact__progress-value">1/{{ impactCtrl.goals.length }} <span class="my-impact__units">goals</span></span>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-xs-10 no-padding">
            <a href="/project/{{impactCtrl.project.code}}/4">
              <button class="my-impact__show-appeal-button">
                <i class="glyphicon glyphicon-chevron-right"></i>
                VIEW APPEAL PAGE
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container my-impact__container">
    <div class="row my-impact__container-greeting">
      <div class="col-xs-12 col-md-12 col-lg-12">
        <h3 class="alice-dark-grey goals-dash__greeting">
          Hi {{ impactCtrl.loggedUser.firstName }}
        </h3>
      </div>
      <div class="col-xs-12 col-md-12 col-lg-12 my-impact__overview">
        <div class="col-md-3 col-xs-6">
          <p>You donated</p>
          <h3 class="alice-blue">{{ impactCtrl.project.totalDonated | money }}</h3>
        </div>
        <div class="col-md-3 col-xs-6">
          <p>{{ impactCtrl.charity.name }} used</p>
          <h3 class="alice-blue">{{ impactCtrl.project.totalPaidOut | money }}</h3>
          <p>so far</p>
        </div>
        <div class="col-md-3 col-xs-6">
          <p>To complete</p>
          <!-- TODO - update tfis field -->
          <h3 class="alice-blue">1</h3>
          <p>goal</p>
        </div>
      </div>
    </div>
    
    <!-- Goals -->
    <div class="col-xs-12 col-md-12 col-lg-12 my-impact__container-goals">
      <h5 class="alice-dark-grey">TRACK IMPACT THROUGH {{ impactCtrl.goals.length }} GOALS </h5>
      <!-- <a href="">
          <i class="fa fa-chevron-circle-left"
             style="position: absolute; color: #1CB8C4; margin-top: 230px; z-index: 100; font-size: 20px"
             ng-click="impactCtrl.scrollGoal('left')">
          </i>
        </a>
        <a href="">
          <i class="fa fa-chevron-circle-right"
             style="position: absolute; color: #1CB8C4; right: -10px; margin-top: 230px; z-index: 100; font-size: 20px"
             ng-click="impactCtrl.scrollGoal('right')">
          </i>
        </a> -->
        <div ng-repeat="goal in impactCtrl.goals" index="$index">
            <my-impact-goal goal="goal" index="$index"></my-impact-goal>
        </div>
  
    </div>
  </section>

  <alice-footer></alice-footer>
</div>
