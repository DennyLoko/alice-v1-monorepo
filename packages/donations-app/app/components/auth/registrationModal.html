<div class="modal-body" ng-controller="RegistrationController as regCtrl">
  <a class="modal-close" ng-click="regCtrl.dismissModal()">Ã—</a>
  <h2 class="modal-title">Sign up</h2>

  <treasure-overlay-spinner active="regCtrl.signing">
    <div class="content registration">
      <form role="form" style="margin-top: 2%;" name="regCtrl.registrationForm" novalidate>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group" has-error>
              <div>
                <label>First Name</label>
                <input id="registration-first-name" class="form-control" type="text" name="firstName"
                       placeholder="First name"
                       ng-model="regCtrl.registration.firstName" required>
                <error-message name="firstName" error="required">This field is required</error-message>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group" has-error>
              <div>
                <label>Last Name</label>
                <input id="registration-last-name" type="text" name="lastName" placeholder="Last name"
                       ng-model="regCtrl.registration.lastName"
                       class="form-control" required>
                <error-message name="lastName" error="required">This field is required</error-message>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group" has-error>
          <div>
            <label>Email Address</label>
            <input id="registration-email" type="email" name="email" placeholder="Email address"
                   ng-model="regCtrl.registration.email"
                   ng-disabled="regCtrl.mode == 'REGISTRATION_FINISHING'"
                   class="form-control" required
                   ng-pattern="/([a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+)*)@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/">
            <error-message name="email" error="required">This field is required</error-message>
            <error-message name="email" error="email">Wrong format of email address</error-message>
            <error-message name="email" error="pattern">Wrong format of email address</error-message>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="form-group" has-error>
              <div>
                <label>Create a Password</label>
                <input id="registration-password" type="password" name="password" placeholder="Set a password"
                       ng-model="regCtrl.registration.password" complex-password minlength="8"
                       class="form-control" required>
                <error-message name="password" error="required">This field is required</error-message>
                <error-message name="password" error="upperCase">Password must contain an uppercase letter
                </error-message>
                <error-message name="password" error="digit">Password must contain at least one digit
                </error-message>
                <error-message name="password" error="minlength">Password must contain at least 8 characters
                </error-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row"
             ng-show="regCtrl.duplicatedEmail && (regCtrl.duplicatedEmail == regCtrl.registration.email)">
          <div class="col-md-12">
            <p class="text-error">
              User with email {{regCtrl.duplicatedEmail}} is already registered
            </p>
          </div>
        </div>

        <div class="registration-terms col-md-12">
          By tapping Sign Up you agree to our
          <a href="https://s3.eu-west-2.amazonaws.com/alice-res/terms_of_use.pdf"
             target="_blank">
             Terms & Conditions
           </a>
             and our
          <a href="https://s3.eu-west-2.amazonaws.com/alice-res/privacy_policy.pdf"
             target="_blank">
             Privacy Policy
           </a>
        </div>
        <button id="registration-sign-up-button"
                class="registration-sign-up btn btn-primary btn-donate btn-modal"
                ng-click="regCtrl.register()"
                type="submit">
                Sign Up
        </button>
        <div class="registration-agreement col-md-12">
          <div class="registration-agreement-content">
            <input icheck
                   type="checkbox"
                   ng-model="regCtrl.registration.disagreeContact">
               I don't want to receive marketing messages <br>from Alice or the charity.
          </div>
        </div>
        <!-- <div class="row"> -->
          <div class="col-md-12 modal-footer">
              Already have an account?
              <a id="login-link" href="#"
                 ng-click="regCtrl.startLogin()">
                 Log in.
              </a>
          </div>
        <!-- </div> -->
      </form>
    </div>
  </treasure-overlay-spinner>
</div>
