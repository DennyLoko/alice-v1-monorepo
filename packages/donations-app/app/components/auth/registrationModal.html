<div class="modal-body" ng-controller="RegistrationController as regCtrl">
  <a class="modal-close" ng-click="regCtrl.dismissModal()">Ã—</a>
  <h2 class="modal-title">Sign up</h2>

  <treasure-overlay-spinner active="regCtrl.signing">
    <div class="content">
      <form role="form" style="margin-top: 2%;" name="regCtrl.registrationForm" novalidate>
        <!-- Name inputs -->
        <div class="row">
          <div class="col-md-6">
            <div class="form-group" has-error>
              <div>
                <label>First Name</label>
                <input id="registration-first-name" type="text" name="firstName"
                       ng-model="regCtrl.registration.firstName" required>
                <error-message name="firstName" error="required">This field is required</error-message>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group" has-error>
              <div>
                <label>Last Name</label>
                <input id="registration-last-name" type="text" name="lastName"
                       ng-model="regCtrl.registration.lastName"
                       required>
                <error-message name="lastName" error="required">This field is required</error-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="form-group col-md-12" has-error>
            <div>
              <label>Email Address</label>
              <input id="registration-email" type="email" name="email"
                     ng-model="regCtrl.registration.email"
                     ng-disabled="regCtrl.mode == 'REGISTRATION_FINISHING'"
                     required
                     ng-pattern="/([a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+/=?^_`{|}~-]+)*)@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/">
              <error-message name="email" error="required">This field is required</error-message>
              <error-message name="email" error="pattern">Wrong format of email address</error-message>
            </div>
          </div>

        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="form-group" has-error>
              <div>
                <label>Create a Password</label>
                <input id="registration-password" type="password" name="password"
                       ng-model="regCtrl.registration.password" complex-password minlength="8"
                       required>
                <error-message name="password" error="required">This field is required</error-message>
                <error-message name="password" error="upperCase">Password must contain an uppercase letter
                </error-message>
                <error-message name="password" error="digit">Password must contain at least one digit
                </error-message>
                <error-message name="password" error="minlength">Password must contain at least 8 characters
                </error-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row"
             ng-show="regCtrl.duplicatedEmail && (regCtrl.duplicatedEmail == regCtrl.registration.email)">
          <p class="text-error col-md-12">
            User with email {{regCtrl.duplicatedEmail}} is already registered
          </p>
        </div>

        <div class="row">
          <p class="col-md-12 alice-grey center">
            By tapping Sign Up you agree to our
            <a href="https://s3.eu-west-2.amazonaws.com/alice-res/terms_of_use.pdf"
               target="_blank">
               Terms & Conditions
            </a> and our
            <a href="https://s3.eu-west-2.amazonaws.com/alice-res/privacy_policy.pdf"
               target="_blank">
               Privacy Policy
            </a>
          </p>
        </div>

        <div class="row">
          <div class="col-md-12">
            <button id="registration-sign-up-button"
                    class="uppercase"
                    ng-click="regCtrl.register()"
                    type="submit">
                    Sign Up
            </button>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12 modal-footer">
            <p class="alice-grey center">
              <input icheck
                     type="checkbox"
                     ng-model="regCtrl.registration.disagreeContact">
                     I don't want to receive marketing messages <br>
                     from Alice or the charity.
            </p>
          </div>
          <div class="col-md-12">
               <p class="alice-grey center">
                  Want to skip registration?
                 <a id="register-email"
                    href="#"
                    style="text-decoration: underline;"
                    ng-click="regCtrl.startLogin('EMAIL_REGISTRATION')">
                    Just put your email
                 </a>
               </p>
               <p class="alice-grey center">
                 Already have an account?
                 <a id="login-link"
                    href="#"
                    style="text-decoration: underline;"
                    ng-click="regCtrl.startLogin('LOGIN')">
                    Log in.
                  </a>
                </p>
          </div>
        </div>
      </form>
    </div>
  </treasure-overlay-spinner>
</div>
