<div class="modal-body" ng-controller="LoginController as loginCtrl">
    <a class="modal-close" ng-click="regCtrl.dismissModal()">Ã—</a>
    <h2 class="modal-title">{{ loginCtrl.getTextsForMode().title }}</h2>

    <div class="content">
      <form role="form"
            name="loginCtrl.loginForm"
            style="margin-top: 2%;"
            novalidate>
        <div class="form-group">
          <label>Email</label>
          <input id="login-email"
                 type="email"
                 ng-model="loginCtrl.credentials.email">
        </div>
        <div ng-hide="['RESET', 'EMAIL_REGISTRATION'].includes(loginCtrl.mode)"
             class="form-group">
          <label>Password</label>
          <input id="login-password"
                 type="password"
                 ng-model="loginCtrl.credentials.password">
        </div>
        <div class="row"
             ng-show="loginCtrl.error">
          <div class="col-md-12">
            <p class="text-error">
               {{loginCtrl.errorMessage}}
            </p>
          </div>
        </div>
        <div class="row">
          <div class="forgot-password-box col-md-12"
               ng-show="loginCtrl.mode == 'LOGIN'">
            <a ng-click="loginCtrl.mode = 'RESET'"
               href="#">
               Forgot your password?
            </a>
          </div>
          <div class="col-md-12">
            <button id="login-button"
                    ng-click="loginCtrl.action()"
                    type="submit">
                    {{ loginCtrl.getTextsForMode().button }}
            </button>
          </div>
        </div>

        <div class="row">
          <div ng-if="loginCtrl.mode == 'EMAIL_REGISTRATION'"
               class="col-md-12">
              <input icheck
                     type="checkbox"
                     ng-model="loginCtrl.credentials.disagreeContact">
                 I don't want to receive marketing messages <br>from Alice or the charity.
          </div>
        </div>
      </form>
    </div>

  <div class="row">
    <div class="col-md-12 modal-footer">
      <p class="alice-grey center"> Don't have an account?
        <a id="login-start-registration"
           href="#"
           style="text-decoration: underline;"
           ng-click="loginCtrl.startRegistration()">
          Sign up
        </a>
      </p>
      <!-- We cannot allow this registration mode until MangoPay new agreement -->
      <p class="alice-grey center"
         ng-hide="loginCtrl.mode == 'EMAIL_REGISTRATION'">
         Want to skip registration?
        <a id="register-email"
           href="#"
           style="text-decoration: underline;"
           ng-click="loginCtrl.mode = 'EMAIL_REGISTRATION'">
           Just put your email
        </a>
      </p>
      <p class="alice-grey center"
         ng-show="loginCtrl.mode == 'EMAIL_REGISTRATION'">
         Already have an account?
        <a id="login-link"
           href="#"
           style="text-decoration: underline;"
           ng-click="loginCtrl.mode = 'LOGIN'">
           Log in
        </a>
      </p>
    </div>
  </div>

</div>
